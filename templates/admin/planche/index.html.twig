{% extends 'base.html.twig' %}
{% block title 'Planches' %}

{% block body %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3">Planches</h1>
  <a href="{{ path('admin_planche_new') }}" class="btn btn-primary">
      <i class="bi bi-plus-circle me-1"></i> Nouvelle planche
  </a>
</div>

<table class="table table-hover align-middle">
  <thead class="table-light">
    <tr>
      <th>Nom</th><th>Type</th><th>Usage</th><th>Formats</th>
      <th class="text-end">€ École</th><th class="text-end">€ Parents</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for planche in pager.currentPageResults %}
      <tr>
        <td>{{ planche.nom }}</td>
        <td>{{ planche.type.name|title }}</td>
        <td>{{ planche.usage }}</td>
        <td>
          {% for f in planche.formats %}<span class="badge text-bg-secondary me-1">{{ f }}</span>{% endfor %}
        </td>
        <td class="text-end">{{ planche.prixEcole|number_format(2, ',', ' ') }}</td>
        <td class="text-end">{{ planche.prixParents|number_format(2, ',', ' ') }}</td>
        <td class="text-end">
          <a class="btn btn-sm btn-outline-secondary" href="{{ path('admin_planche_show', {'id': planche.id}) }}">
            <i class="bi bi-eye"></i>
          </a>
          <a class="btn btn-sm btn-outline-primary" href="{{ path('admin_planche_edit', {'id': planche.id}) }}">
            <i class="bi bi-pencil"></i>
          </a>
        </td>
      </tr>
    {% else %}
      <tr><td colspan="7" class="text-center fst-italic">Aucune planche trouvée</td></tr>
    {% endfor %}
  </tbody>
</table>

{{ pagerfanta(pager, 'bootstrap5') }}
{% endblock %}
